<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Design | Project Asclepias</title>
  <meta name="description" content="Chapter 1 Design | Project Asclepias" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Design | Project Asclepias" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Design | Project Asclepias" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data-types.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="design.html"><a href="design.html"><i class="fa fa-check"></i><b>1</b> Design</a>
<ul>
<li class="chapter" data-level="1.1" data-path="design.html"><a href="design.html#what-is-does-not-do"><i class="fa fa-check"></i><b>1.1</b> What is does not do</a></li>
<li class="chapter" data-level="1.2" data-path="design.html"><a href="design.html#from-here"><i class="fa fa-check"></i><b>1.2</b> From here</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>2</b> Data Types</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-types.html"><a href="data-types.html#interval"><i class="fa fa-check"></i><b>2.1</b> Interval</a></li>
<li class="chapter" data-level="2.2" data-path="data-types.html"><a href="data-types.html#context"><i class="fa fa-check"></i><b>2.2</b> Context</a></li>
<li class="chapter" data-level="2.3" data-path="data-types.html"><a href="data-types.html#contextualized-set"><i class="fa fa-check"></i><b>2.3</b> Contextualized Set</a></li>
<li class="chapter" data-level="2.4" data-path="data-types.html"><a href="data-types.html#events"><i class="fa fa-check"></i><b>2.4</b> Events</a></li>
<li class="chapter" data-level="2.5" data-path="data-types.html"><a href="data-types.html#event-history"><i class="fa fa-check"></i><b>2.5</b> Event History</a></li>
<li class="chapter" data-level="2.6" data-path="data-types.html"><a href="data-types.html#subject"><i class="fa fa-check"></i><b>2.6</b> Subject</a></li>
<li class="chapter" data-level="2.7" data-path="data-types.html"><a href="data-types.html#population"><i class="fa fa-check"></i><b>2.7</b> Population</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="function-types.html"><a href="function-types.html"><i class="fa fa-check"></i><b>3</b> Function Types</a>
<ul>
<li class="chapter" data-level="3.1" data-path="function-types.html"><a href="function-types.html#accessors"><i class="fa fa-check"></i><b>3.1</b> Accessors</a></li>
<li class="chapter" data-level="3.2" data-path="function-types.html"><a href="function-types.html#predicates"><i class="fa fa-check"></i><b>3.2</b> Predicates</a></li>
<li class="chapter" data-level="3.3" data-path="function-types.html"><a href="function-types.html#filters"><i class="fa fa-check"></i><b>3.3</b> Filters</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="features-observational-units-and-cohorts.html"><a href="features-observational-units-and-cohorts.html"><i class="fa fa-check"></i><b>4</b> Features, observational units, and Cohorts</a>
<ul>
<li class="chapter" data-level="4.1" data-path="features-observational-units-and-cohorts.html"><a href="features-observational-units-and-cohorts.html#features-and-feature-sets"><i class="fa fa-check"></i><b>4.1</b> Features and Feature sets</a></li>
<li class="chapter" data-level="4.2" data-path="features-observational-units-and-cohorts.html"><a href="features-observational-units-and-cohorts.html#observational-unit"><i class="fa fa-check"></i><b>4.2</b> Observational Unit</a></li>
<li class="chapter" data-level="4.3" data-path="features-observational-units-and-cohorts.html"><a href="features-observational-units-and-cohorts.html#cohort"><i class="fa fa-check"></i><b>4.3</b> Cohort</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="toy-example.html"><a href="toy-example.html"><i class="fa fa-check"></i><b>5</b> Toy Example</a>
<ul>
<li class="chapter" data-level="5.1" data-path="toy-example.html"><a href="toy-example.html#spade1heart"><i class="fa fa-check"></i><b>5.1</b> 2spade1heart</a></li>
<li class="chapter" data-level="5.2" data-path="toy-example.html"><a href="toy-example.html#foreverdiamonds"><i class="fa fa-check"></i><b>5.2</b> foreverDiamonds</a></li>
<li class="chapter" data-level="5.3" data-path="toy-example.html"><a href="toy-example.html#flush"><i class="fa fa-check"></i><b>5.3</b> flush</a></li>
<li class="chapter" data-level="5.4" data-path="toy-example.html"><a href="toy-example.html#clubtrump"><i class="fa fa-check"></i><b>5.4</b> clubTrump</a></li>
<li class="chapter" data-level="5.5" data-path="toy-example.html"><a href="toy-example.html#fullofhearts"><i class="fa fa-check"></i><b>5.5</b> fullOfHearts</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="specifications.html"><a href="specifications.html"><i class="fa fa-check"></i><b>6</b> Specifications</a></li>
<li class="chapter" data-level="7" data-path="working-example.html"><a href="working-example.html"><i class="fa fa-check"></i><b>7</b> Working example</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Project Asclepias</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="design" class="section level1" number="1">
<h1><span class="header-section-number">Chapter 1</span> Design</h1>
<p><span class="citation">@CITE</span> writes:</p>
<blockquote>
<p>“One of the important advantages of having a mathematical model for programming is that it’s possible to perform formal proofs of correctness of software. This might not seem so important when you’re writing consumer software, but there are areas of programming where the price of failure may be exorbitant, or where human life is at stake.”</p>
</blockquote>
<p>In epidemiology and medicine, programming errors can cost lives. Project Asclepias aims to formalize one aspect of the research pipeline: implementing the study plan.</p>
<p><span class="citation">@CITE</span> writes: “Functional programmers have a peculiar way of approaching problems. They start by asking very Zen-like questions. For instance, when designing an interactive program, they would ask: What is interaction?” In that vein, what is a cohort?</p>
<p>Asclepias defines a cohort <span class="math inline">\(C\)</span> as the output of a mathematical function. Let <span class="math inline">\(P\)</span> be a population and <span class="math inline">\(S\)</span> be a study design that specifies a cohort’s inclusion/exclusion criteria and the set of features needed for analysis. The cohort building function maps a population and a specification to a cohort:</p>
<p><span class="math display">\[
\Upsilon: (P, S) \mapsto C 
\]</span></p>
<p>This formulation obviously leaves out a lot of details. <span class="math inline">\(\Upsilon\)</span> will be composed of many other functions and the structure of <span class="math inline">\(P\)</span>, <span class="math inline">\(S\)</span>, and <span class="math inline">\(C\)</span> need to be described.</p>
<p>Asclepias takes a <em>functional</em> approach to cohort building. Existing approaches and cohort building languaage are algorithmic by describing the steps. And while all functions are algorithms not all algorithms are functions. Why does this make a difference?</p>
<p>With the goals of:</p>
<ul>
<li>providing a structured language of cohort building that can declare designs from simple to complex</li>
<li>reducing the time between planning and execution of analyses</li>
<li>providing software that can be scaled to handle massive datasets</li>
<li>(?) validated software for a regulated industry</li>
</ul>
<div id="what-is-does-not-do" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> What is does not do</h2>
<p>Asclepias does not check that the plan itself is sound or that the population is relevant to the study question.</p>
</div>
<div id="from-here" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> From here</h2>
<ul>
<li>described at a big picture</li>
<li>now going to describe from inside out</li>
<li>outline core data types</li>
</ul>
<p>A cohort builder <span class="math inline">\(\zeta\)</span> is a function mapping a population to a cohort:</p>
<p><span class="math display">\[
\zeta: P \mapsto C 
\]</span>
A cohort planner is a function <span class="math inline">\(\Lambda\)</span> that maps a specification <span class="math inline">\(S\)</span> to a cohort builder.</p>
<p><span class="math display">\[
\Lambda: S \mapsto ( \zeta : P  \mapsto C )
\]</span></p>
<p>The next 4 chapters describe the design of</p>
<ul>
<li><span class="math inline">\(P\)</span> and data types it is composed of</li>
<li><span class="math inline">\(\zeta\)</span> and the function types it is composed of</li>
<li><span class="math inline">\(C\)</span> and the data types it is composed of</li>
</ul>
<p>Before demostrating a complete working example starting from <span class="math inline">\(S\)</span> and <span class="math inline">\(\Lambda\)</span>, we first explain how <span class="math inline">\(\zeta\)</span> works with toy example building a cohort “by hand” using the types</p>
<ul>
<li><span class="math inline">\(S\)</span> and how a specification defines all of the above</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-types.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
